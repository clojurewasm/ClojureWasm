# SCI Compatibility Test Tracking
# Source: test/upstream/sci/core_test.clj
# Generated: 2026-02-03 (T12.9)
#
# Status values:
#   pass   - all assertions pass
#   fail   - some assertions fail (non-crash)
#   skip   - test commented out (crash or missing feature)
#   pending - not yet ported
#
# Backend: TreeWalk only (--tree-walk)

sci_core_test:
  summary:
    total: 74           # total deftests (including skipped)
    active: 72          # running deftests
    pass: 72            # all assertions pass
    fail: 0             # assertion failures
    skip: 2             # remaining: {:keys [:a]}, var :name metadata
    assertions: 260     # total is-assertions in active tests
    skipped_assertions: 3   # individual (is ...) commented within active tests

  tests:
    do-test:                    { status: pass }
    if-and-when-test:           { status: pass }
    and-or-test:                { status: pass }
    fn-literal-test:            { status: pass }
    fn-test:                    { status: pass }
    def-test:                   { status: pass }
    defn-test:                  { status: pass }
    let-test:                   { status: pass }
    destructure-test:           { status: pass, note: "2 assertions skipped: {:keys [:a]} keyword in keys vector" }
    closure-test:               { status: pass }
    core-hof-test:              { status: pass }
    literals-test:              { status: pass }
    quoting-test:               { status: pass }
    calling-ifns-test:          { status: pass }
    arithmetic-test:            { status: pass }
    comparisons-test:           { status: pass }
    sequences-test:             { status: pass }
    string-operations-test:     { status: pass, note: "minimal — clojure.string not implemented" }
    atoms-test:                 { status: pass }
    loop-recur-test:            { status: pass }
    for-test:                   { status: pass }
    cond-test:                  { status: pass }
    condp-test:                 { status: pass }
    case-test:                  { status: pass }
    comment-test:               { status: pass }
    declare-test:               { status: pass }
    defonce-test:               { status: pass }
    threading-test:             { status: pass }
    ifs-and-whens-test:         { status: pass }
    trampoline-test:            { status: pass }
    try-catch-test:             { status: pass }
    variable-can-shadow-test:   { status: pass }
    delay-and-defn-private-test: { status: pass }
    self-ref-test:              { status: pass }
    regex-test:                 { status: pass }
    some-threading-test:        { status: pass, note: "uses str instead of clojure.string/lower-case" }
    macroexpand-test:           { status: pass }
    while-test:                 { status: pass }
    collections-test:           { status: pass }
    higher-order-fns-test:      { status: pass }
    partition-group-test:       { status: pass }
    distinct-frequencies-test:  { status: pass }
    interleave-interpose-test:  { status: pass }
    function-combinators-test:  { status: pass }
    seq-slicing-test:           { status: pass }
    convenience-accessors-test: { status: pass }
    pred-fn-utils-test:         { status: pass }
    dotimes-test:               { status: pass }
    doseq-test:                 { status: pass }
    reduce-kv-test:             { status: pass }
    meta-test:                  { status: pass, note: "var :name metadata skipped; def moved outside deftest" }
    namespace-ops-test:         { status: pass }
    gensym-test:                { status: pass, note: "uses subs workaround (no clojure.string/starts-with?)" }
    eval-read-string-test:      { status: pass }
    macroexpand-detail-test:    { status: pass }
    basic-predicates-test:      { status: pass }
    memoize-test:               { status: pass }
    format-test:                { status: pass }
    compare-and-set-test:       { status: pass }
    hash-identity-test:         { status: pass }
    collection-ops-test:        { status: pass }
    subvec-test:                { status: pass }
    collection-constructors-test: { status: pass }
    reduced-test:               { status: pass }
    lazy-seq-test:              { status: pass }
    ex-info-test:               { status: pass }
    multimethod-test:           { status: pass }
    type-predicates-test:       { status: pass }
    bitwise-test:               { status: pass }
    sort-test:                  { status: pass }
    merge-test:                 { status: pass }
    type-coercion-test:         { status: pass }

  # Missing features (remaining after T13.1)
  missing_features:
    tier2_core_clj:
      - "clojure.string namespace (upper-case, lower-case, trim, includes?, split, join, starts-with?)"
      - "{:keys [:a]} — keyword in :keys destructuring vector"
    behavioral:
      - "var :name metadata — (meta #'x) :name not populated"
  # Resolved by T13.2:
  # - named fn self-reference (identity preserved via callee_fn_val)
  # - fn as param name shadows special form (local check before special_forms)
  # Resolved by T13.1:
  # - list? (now implemented)
  # - int? (now implemented)
  # - reduce/2 (2-arity reduce)
  # - set-as-function
  # - deref on delay
  # - (into {} [[:a 1]]) — conj map with vector pairs
